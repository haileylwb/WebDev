<!DOCTYPE html>
<html>
    <head>
        <title> Food List </title>
        <link rel = "stylesheet" href = "3_foods.css" />
        <script>
            function initialize(){
                outBox = document.getElementById("outbox");
                foodSelectionBox = document.getElementById("foodsel");
                duplicatesBox = document.getElementById("dupes");
                countBox = document.getElementById("count");

                foodList = ["Pizza", "Hamburger", "Sushi", "Guacamole", "Salmon", "Hamburger", "Guacamole", "Hamburger", "Salmon", "Sushi", "Guacamole", "Guacamole", "Hamburger", "Sushi"];
                dupesList = [];
                dupesCount = 0;

                display();
            }
            function display(){
                outBox.innerHTML = "0: " + foodList[0];
                for (var i = 1; i < foodList.length; i++)
                    outBox.innerHTML += "<br />" + i + ": " + foodList[i];
                
                    duplicatesBox.innerHTML = dupesList;
                    countBox.innerHTML = dupesCount;
            }
            function addFood(){
                foodList.push(foodSelectionBox.value);
                display();
            }
            /*
            countDuplicates

            The countDuplicates function searches an array for a specific item and returns the number of times that item appears in the array.

            Parameters:
                array - the array
                itm - the search item

            Returns:
                The number of times itm appears in array.
            */
            function countDuplicates(array, itm){
                var itmCount = 0;

                for (var i = 0; i < array.length; i++)
                    if (itm == array[i])
                        itmCount++;
                return itmCount;
            }
            /* 
            indexesOf
            
            This function searches an array for a specific item and generates a list of all the positions where that item appears.
            
            Parameters:
                array - the array
                itm - the search item
            
            Returns:
                An array including all of the indices at which the item appears (empty if the item is not in the list)
            
            */ 
            function indexesOf(array, itm){
                var idxList = [];

                for (var i = 0; i < array.length; i++)
                    if (itm == array[i])
                        idxList.push(i);
                return idxList;
            }
            function getDupeList(){
                dupesList = indexesOf(foodList, foodSelectionBox.value);
                display();
            }
            function getDupeCount(){
                dupesCount = countDuplicates(foodList, foodSelectionBox.value);
                display();
            }
        </script>
    </head>
    <body onload="initialize();">
        <h1>Food List</h1>
        <label>
            Selection: <input type="text" id="foodsel" />
        </label>
        <hr />
        <button onclick = "addFood();">Add Food</button>
        <button onclick = "getDupeList();">Find Duplicates</button>
        <button onclick = "getDupeCount();">Count Duplicates</button>
        <br />

        <div>
            Duplicate Indices: <span id="dupes"></span>
        </div>
        <div>
            Count of Duplicates: <span id="count"></span>
        </div>
        <hr />
        <div>
            <div id="outbox"></div>
        </div>
    </body>
</html>
